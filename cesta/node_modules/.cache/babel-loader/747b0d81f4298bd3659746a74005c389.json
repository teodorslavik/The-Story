{"ast":null,"code":"var _jsxFileName = \"/Users/tedy/game/src/App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  const isEmpty = \"o\";\n  const hasPerson = \"x\";\n  const theEnd = \".\";\n  const highestCoordsX = 0;\n  const highestCoordsY = 0;\n  const [gameMap, setGameMap] = useState([[hasPerson, isEmpty, isEmpty], [isEmpty, isEmpty, isEmpty], [isEmpty, isEmpty, isEmpty], [isEmpty, isEmpty, isEmpty]]);\n  const gamePlan = `\n@##########  #\n#   #   #    #\n########### ##\n#  #   #     #\n## #   ###X###\n`;\n  console.log(gamePlan);\n  const [actualPositionOfPersonX, setActualPositionOfPersonX] = useState(0);\n  const [actualPositionOfPersonY, setActualPositionOfPersonY] = useState(0);\n\n  const parseStringToGameMap = gamePlan => {\n    let rows = gamePlan.split(\"\\n\"); // console.log(\"rows\", rows);\n\n    rows = rows.map(rowItem => {\n      return;\n      rowItem.split(\"\").map(cellItem => {\n        if (cellItem === \" \") {\n          return isEmpty;\n        } else if (cellItem === \"@\") {\n          return hasPerson;\n        } else if (cellItem === \"#\") {\n          return isEmpty;\n        } else if (cellItem === \"X\") {\n          return theEnd;\n        }\n      });\n    });\n    console.log(\"final rows\", rows);\n    return [];\n  };\n\n  console.log(parseStringToGameMap(gamePlan)); // console.log(gameMap);\n\n  const handleMovePerson = (rowIndexToChecked, cellIndexToChecked) => {\n    if (!isAllowedMove(rowIndexToChecked, cellIndexToChecked)) {\n      return;\n    } //    setActualPositionOfPersonX(cellIndexToChecked);\n    //    setActualPositionOfPersonX(rowIndexToChecked);\n\n\n    setActualPositionOfPersonX(cellIndexToChecked);\n    setActualPositionOfPersonY(rowIndexToChecked);\n    const test = gameMap.map((rowItem, rowIndex) => rowItem.map((cellItem, cellIndex) => {\n      if (rowIndexToChecked === rowIndex && cellIndexToChecked === cellIndex) {\n        return hasPerson;\n      } else {\n        return isEmpty;\n      }\n    }));\n    setGameMap(test);\n  };\n\n  const isAllowedMove = (rowIndexToChecked, cellIndexToChecked) => {\n    return (actualPositionOfPersonX - 1 === cellIndexToChecked || actualPositionOfPersonX + 1 === cellIndexToChecked) && actualPositionOfPersonY === rowIndexToChecked || (actualPositionOfPersonY - 1 === rowIndexToChecked || actualPositionOfPersonY + 1 === rowIndexToChecked) && actualPositionOfPersonX === cellIndexToChecked;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"panacek je na pozici \", actualPositionOfPersonY, \", \", actualPositionOfPersonX), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, \"suradnice voravo dole \", highestCoordsY, \", \", highestCoordsX), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, gameMap.map((rowItem, rowIndex) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: rowIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 46\n    }\n  }, rowItem.map((cellItem, cellIndex) => /*#__PURE__*/React.createElement(\"td\", {\n    key: cellIndex,\n    onClick: e => handleMovePerson(rowIndex, cellIndex),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, cellItem, \"-\", rowIndex, \",\", cellIndex)))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tedy/game/src/App.js"],"names":["React","useState","App","isEmpty","hasPerson","theEnd","highestCoordsX","highestCoordsY","gameMap","setGameMap","gamePlan","console","log","actualPositionOfPersonX","setActualPositionOfPersonX","actualPositionOfPersonY","setActualPositionOfPersonY","parseStringToGameMap","rows","split","map","rowItem","cellItem","handleMovePerson","rowIndexToChecked","cellIndexToChecked","isAllowedMove","test","rowIndex","cellIndex","e"],"mappings":"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","sourcesContent":["import React,  {useState} from 'react';\nimport './App.css';\n\nfunction App() {\n  const isEmpty = \"o\";\n  const hasPerson = \"x\";\n  const theEnd = \".\"\n  const highestCoordsX = 0\n  const highestCoordsY = 0\n\n  const [gameMap, setGameMap] = useState(\n    [\n    [hasPerson, isEmpty, isEmpty],\n    [isEmpty, isEmpty, isEmpty],\n    [isEmpty, isEmpty, isEmpty],\n    [isEmpty, isEmpty, isEmpty],\n   ]\n  );\n\n  const gamePlan = `\n@##########  #\n#   #   #    #\n########### ##\n#  #   #     #\n## #   ###X###\n`;\n\n\n  console.log(gamePlan);\n\n  const [actualPositionOfPersonX, setActualPositionOfPersonX] = useState(0);\n  const [actualPositionOfPersonY, setActualPositionOfPersonY] = useState(0);\n\n\n  const parseStringToGameMap = (gamePlan) => {\n\n    let rows = gamePlan.split(\"\\n\");\n    // console.log(\"rows\", rows);\n    rows = rows.map(rowItem => {\n      return \n        rowItem.split(\"\")\n        .map(cellItem => {\n          if (cellItem === \" \") {return isEmpty}\n          else if (cellItem === \"@\") {return hasPerson}\n          else if (cellItem === \"#\") {return isEmpty}\n          else if (cellItem === \"X\") {return theEnd}\n\n        });\n    });\n\n\n    console.log(\"final rows\", rows);\n    return [];\n  }\n\n\n  console.log(parseStringToGameMap(gamePlan));\n\n\n\n  // console.log(gameMap);\n\n  const handleMovePerson = (rowIndexToChecked, cellIndexToChecked) => {\n    if(!isAllowedMove(rowIndexToChecked, cellIndexToChecked)) {return;}\n\n//    setActualPositionOfPersonX(cellIndexToChecked);\n//    setActualPositionOfPersonX(rowIndexToChecked);\n\n\n    setActualPositionOfPersonX(cellIndexToChecked);\n    setActualPositionOfPersonY(rowIndexToChecked);\n    const test = gameMap.map((rowItem, rowIndex) => (\n      rowItem.map((cellItem, cellIndex) => {\n        if(rowIndexToChecked === rowIndex && cellIndexToChecked === cellIndex) {\n          return hasPerson;\n          } else {return isEmpty}\n      })\n    ));\n   setGameMap(test);\n\n  }\n\n\n  const isAllowedMove = (rowIndexToChecked, cellIndexToChecked) => {\n    return (\n      (\n        ( actualPositionOfPersonX - 1 === cellIndexToChecked || actualPositionOfPersonX + 1 === cellIndexToChecked )\n        && ( actualPositionOfPersonY === rowIndexToChecked )\n      )\n      || (\n        ( actualPositionOfPersonY - 1 === rowIndexToChecked || actualPositionOfPersonY + 1 === rowIndexToChecked )\n        && ( actualPositionOfPersonX === cellIndexToChecked )\n        )\n      );\n  }\n\n\n  return (\n    <div className=\"App\">\n      <p>panacek je na pozici {actualPositionOfPersonY}, {actualPositionOfPersonX}</p>\n      <p>suradnice voravo dole {highestCoordsY}, {highestCoordsX}</p>\n        <table>\n          <tbody>\n        {gameMap.map((rowItem, rowIndex) => (<tr key={rowIndex}>\n          {rowItem.map((cellItem, cellIndex) => (\n            <td\n              key={cellIndex}\n              onClick={e=>handleMovePerson(rowIndex, cellIndex)}\n              >\n                {cellItem}-{rowIndex},{cellIndex}\n            </td>\n          ))}\n        </tr>\n        ))}\n          </tbody>\n        </table>\n    </div>\n  );\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}